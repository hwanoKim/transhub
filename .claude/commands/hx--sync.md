---
description: 코드 기반으로 .docs 문서 내용을 최신 상태로 동기화
argument-hint: [문서명 또는 주제]
---

# 문서 동기화 (Sync)

코드를 기준으로 문서 내용을 최신 상태로 업데이트합니다.

$ARGUMENTS

## 핵심 원칙

> **모든 정답은 코드에 있다**

- 문서의 구조(폴더, 인덱스)는 유지
- 내용만 코드의 최신 상태에 맞춰 업데이트
- 코드에 없는 내용은 문서에서도 제거 대상

## 자율 수행 (확인 불필요)

다음 작업은 사용자 확인 없이 진행:

| 작업 | 예시 |
|------|------|
| **폴더 구조 업데이트** | 코드의 디렉토리 구조 반영 |
| **파일 목록 갱신** | 새 파일 추가, 삭제된 파일 제거 |
| **함수/클래스명 수정** | 리네임된 심볼 반영 |
| **코드 블록 갱신** | 변경된 코드 스니펫 업데이트 |
| **경로 수정** | 이동된 파일 경로 반영 |
| **오타/불일치 수정** | 코드와 다른 명칭 수정 |

## 사용자 확인 필요

다음 작업은 반드시 확인 후 진행:

| 작업 | 이유 |
|------|------|
| **새 섹션 추가** | 문서 구조 변경 |
| **섹션 삭제** | 의도적으로 남긴 내용일 수 있음 |
| **새 문서 생성** | 인덱스 구조 영향 |
| **문서 삭제** | 히스토리 목적일 수 있음 |
| **설명문 대폭 수정** | 의도적 서술일 수 있음 |

## 동기화 절차

### 1. 범위 확인

```
사용자: "/docs:sync backtest"
→ .docs/에서 backtest 관련 문서 찾기
→ 코드에서 backtest 관련 모듈 찾기
```

### 2. 코드 분석

- 디렉토리 구조 파악
- 주요 클래스/함수 목록
- import 관계
- 공개 API

### 3. 문서와 비교

| 항목 | 코드 | 문서 | 액션 |
|------|------|------|------|
| 폴더 구조 | `src/engine/` | `src/core/` | 자동 수정 |
| 클래스명 | `BacktestRunner` | `BacktestEngine` | 자동 수정 |
| 새 모듈 | `tax_handler.py` | (없음) | 확인 후 추가 |
| 삭제된 모듈 | (없음) | `legacy.py` 언급 | 확인 후 제거 |

### 4. 업데이트 실행

1. 자율 수행 항목 먼저 처리
2. 확인 필요 항목 목록 제시
3. 사용자 승인 후 처리

## 출력 형식

```markdown
## 동기화 완료

### 자동 수정됨
- `backtest.md`: 폴더 구조 업데이트 (3곳)
- `backtest-tax.md`: 클래스명 수정 BacktestEngine → BacktestRunner

### 확인 필요
- [ ] 새 섹션 추가: `backtest-session.md`에 "캐시 관리" 섹션?
- [ ] 삭제 제안: `legacy_api` 언급 (코드에서 삭제됨)
```

## 주의사항

- **아키텍처 문서**는 신중하게 - 의도적 설계 설명일 수 있음
- **TODO/계획 내용**은 건드리지 않음
- **히스토리/변경 이력**은 유지
- 불확실하면 확인 요청
